
<!DOCTYPE html>
<html lang="en">
<head>
  <link href='//fonts.googleapis.com/css?family=Source+Sans+Pro:300,400,700,400italic' rel='stylesheet' type='text/css'>

    <link rel="stylesheet" type="text/css" href="/theme/stylesheet/style.min.css">

  <link rel="stylesheet" type="text/css" href="/theme/pygments/github.min.css">
  <link rel="stylesheet" type="text/css" href="/theme/font-awesome/css/font-awesome.min.css">





  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta name="HandheldFriendly" content="True" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <meta name="robots" content="" />


<meta name="author" content="Nikhil Prasad" />
<meta name="description" content="NPCoin- Part 1. Mining and Hash Functions¶This is a learning project based on many online resources, including dumbcoin as inspiration, that I use to test and understand some of the ideas behind bitcoin. Bitcoin is written in C; for simplicity in implementing some of the crytographic functions, I use python and hashlib. This is not a real cryptocurrency, the code is not secure and and it is just for my own learning purposes." />
<meta name="keywords" content="cryptography, cryptocurrencies, python">
<meta property="og:site_name" content="Nikhil Prasad"/>
<meta property="og:title" content="NPCoin"/>
<meta property="og:description" content="NPCoin- Part 1. Mining and Hash Functions¶This is a learning project based on many online resources, including dumbcoin as inspiration, that I use to test and understand some of the ideas behind bitcoin. Bitcoin is written in C; for simplicity in implementing some of the crytographic functions, I use python and hashlib. This is not a real cryptocurrency, the code is not secure and and it is just for my own learning purposes."/>
<meta property="og:locale" content="en_US"/>
<meta property="og:url" content="/NPCoin.html"/>
<meta property="og:type" content="article"/>
<meta property="article:published_time" content="2018-05-14 12:30:00-04:00"/>
<meta property="article:modified_time" content=""/>
<meta property="article:author" content="/author/nikhil-prasad.html">
<meta property="article:section" content="cryptography"/>
<meta property="article:tag" content="cryptography"/>
<meta property="article:tag" content="cryptocurrencies"/>
<meta property="article:tag" content="python"/>
<meta property="og:image" content="">

  <title>Nikhil Prasad &ndash; NPCoin</title>

</head>
<body>
  <aside>
    <div>
      <a href="">
        <img src="/theme/img/profile.png" alt="" title="">
      </a>
      <h1><a href=""></a></h1>


      <nav>
        <ul class="list">
          <li><a href="/pages/about-me.html#about-me">About Me</a></li>
          <li><a href="/pages/currently-reading.html#currently-reading">Currently Reading</a></li>
          <li><a href="/pages/projects.html#projects">Projects</a></li>

        </ul>
      </nav>

      <ul class="social">
      </ul>
    </div>


  </aside>
  <main>


<article class="single">
  <header>
    <h1 id="NPCoin">NPCoin</h1>
    <p>
          Posted on Mon 14 May 2018 in <a href="/category/cryptography.html">cryptography</a>


    </p>
  </header>


  <div>
    <style type="text/css">/*!
*
* IPython notebook
*
*/
/* CSS font colors for translated ANSI colors. */
.ansibold {
  font-weight: bold;
}
/* use dark versions for foreground, to improve visibility */
.ansiblack {
  color: black;
}
.ansired {
  color: darkred;
}
.ansigreen {
  color: darkgreen;
}
.ansiyellow {
  color: #c4a000;
}
.ansiblue {
  color: darkblue;
}
.ansipurple {
  color: darkviolet;
}
.ansicyan {
  color: steelblue;
}
.ansigray {
  color: gray;
}
/* and light for background, for the same reason */
.ansibgblack {
  background-color: black;
}
.ansibgred {
  background-color: red;
}
.ansibggreen {
  background-color: green;
}
.ansibgyellow {
  background-color: yellow;
}
.ansibgblue {
  background-color: blue;
}
.ansibgpurple {
  background-color: magenta;
}
.ansibgcyan {
  background-color: cyan;
}
.ansibggray {
  background-color: gray;
}
div.cell {
  /* Old browsers */
  display: -webkit-box;
  -webkit-box-orient: vertical;
  -webkit-box-align: stretch;
  display: -moz-box;
  -moz-box-orient: vertical;
  -moz-box-align: stretch;
  display: box;
  box-orient: vertical;
  box-align: stretch;
  /* Modern browsers */
  display: flex;
  flex-direction: column;
  align-items: stretch;
  border-radius: 2px;
  box-sizing: border-box;
  -moz-box-sizing: border-box;
  -webkit-box-sizing: border-box;
  border-width: 1px;
  border-style: solid;
  border-color: transparent;
  width: 100%;
  padding: 5px;
  /* This acts as a spacer between cells, that is outside the border */
  margin: 0px;
  outline: none;
  border-left-width: 1px;
  padding-left: 5px;
  background: linear-gradient(to right, transparent -40px, transparent 1px, transparent 1px, transparent 100%);
}
div.cell.jupyter-soft-selected {
  border-left-color: #90CAF9;
  border-left-color: #E3F2FD;
  border-left-width: 1px;
  padding-left: 5px;
  border-right-color: #E3F2FD;
  border-right-width: 1px;
  background: #E3F2FD;
}
@media print {
  div.cell.jupyter-soft-selected {
    border-color: transparent;
  }
}
div.cell.selected {
  border-color: #ababab;
  border-left-width: 0px;
  padding-left: 6px;
  background: linear-gradient(to right, #42A5F5 -40px, #42A5F5 5px, transparent 5px, transparent 100%);
}
@media print {
  div.cell.selected {
    border-color: transparent;
  }
}
div.cell.selected.jupyter-soft-selected {
  border-left-width: 0;
  padding-left: 6px;
  background: linear-gradient(to right, #42A5F5 -40px, #42A5F5 7px, #E3F2FD 7px, #E3F2FD 100%);
}
.edit_mode div.cell.selected {
  border-color: #66BB6A;
  border-left-width: 0px;
  padding-left: 6px;
  background: linear-gradient(to right, #66BB6A -40px, #66BB6A 5px, transparent 5px, transparent 100%);
}
@media print {
  .edit_mode div.cell.selected {
    border-color: transparent;
  }
}
.prompt {
  /* This needs to be wide enough for 3 digit prompt numbers: In[100]: */
  min-width: 14ex;
  /* This padding is tuned to match the padding on the CodeMirror editor. */
  padding: 0.4em;
  margin: 0px;
  font-family: monospace;
  text-align: right;
  /* This has to match that of the the CodeMirror class line-height below */
  line-height: 1.21429em;
  /* Don't highlight prompt number selection */
  -webkit-touch-callout: none;
  -webkit-user-select: none;
  -khtml-user-select: none;
  -moz-user-select: none;
  -ms-user-select: none;
  user-select: none;
  /* Use default cursor */
  cursor: default;
}
@media (max-width: 540px) {
  .prompt {
    text-align: left;
  }
}
div.inner_cell {
  min-width: 0;
  /* Old browsers */
  display: -webkit-box;
  -webkit-box-orient: vertical;
  -webkit-box-align: stretch;
  display: -moz-box;
  -moz-box-orient: vertical;
  -moz-box-align: stretch;
  display: box;
  box-orient: vertical;
  box-align: stretch;
  /* Modern browsers */
  display: flex;
  flex-direction: column;
  align-items: stretch;
  /* Old browsers */
  -webkit-box-flex: 1;
  -moz-box-flex: 1;
  box-flex: 1;
  /* Modern browsers */
  flex: 1;
}
/* input_area and input_prompt must match in top border and margin for alignment */
div.input_area {
  border: 1px solid #cfcfcf;
  border-radius: 2px;
  background: #f7f7f7;
  line-height: 1.21429em;
}
/* This is needed so that empty prompt areas can collapse to zero height when there
   is no content in the output_subarea and the prompt. The main purpose of this is
   to make sure that empty JavaScript output_subareas have no height. */
div.prompt:empty {
  padding-top: 0;
  padding-bottom: 0;
}
div.unrecognized_cell {
  padding: 5px 5px 5px 0px;
  /* Old browsers */
  display: -webkit-box;
  -webkit-box-orient: horizontal;
  -webkit-box-align: stretch;
  display: -moz-box;
  -moz-box-orient: horizontal;
  -moz-box-align: stretch;
  display: box;
  box-orient: horizontal;
  box-align: stretch;
  /* Modern browsers */
  display: flex;
  flex-direction: row;
  align-items: stretch;
}
div.unrecognized_cell .inner_cell {
  border-radius: 2px;
  padding: 5px;
  font-weight: bold;
  color: red;
  border: 1px solid #cfcfcf;
  background: #eaeaea;
}
div.unrecognized_cell .inner_cell a {
  color: inherit;
  text-decoration: none;
}
div.unrecognized_cell .inner_cell a:hover {
  color: inherit;
  text-decoration: none;
}
@media (max-width: 540px) {
  div.unrecognized_cell > div.prompt {
    display: none;
  }
}
div.code_cell {
  /* avoid page breaking on code cells when printing */
}
@media print {
  div.code_cell {
    page-break-inside: avoid;
  }
}
/* any special styling for code cells that are currently running goes here */
div.input {
  page-break-inside: avoid;
  /* Old browsers */
  display: -webkit-box;
  -webkit-box-orient: horizontal;
  -webkit-box-align: stretch;
  display: -moz-box;
  -moz-box-orient: horizontal;
  -moz-box-align: stretch;
  display: box;
  box-orient: horizontal;
  box-align: stretch;
  /* Modern browsers */
  display: flex;
  flex-direction: row;
  align-items: stretch;
}
@media (max-width: 540px) {
  div.input {
    /* Old browsers */
    display: -webkit-box;
    -webkit-box-orient: vertical;
    -webkit-box-align: stretch;
    display: -moz-box;
    -moz-box-orient: vertical;
    -moz-box-align: stretch;
    display: box;
    box-orient: vertical;
    box-align: stretch;
    /* Modern browsers */
    display: flex;
    flex-direction: column;
    align-items: stretch;
  }
}
/* input_area and input_prompt must match in top border and margin for alignment */
div.input_prompt {
  color: #303F9F;
  border-top: 1px solid transparent;
}
div.input_area > div.highlight {
  margin: 0.4em;
  border: none;
  padding: 0px;
  background-color: transparent;
}
div.input_area > div.highlight > pre {
  margin: 0px;
  border: none;
  padding: 0px;
  background-color: transparent;
}
/* The following gets added to the <head> if it is detected that the user has a
 * monospace font with inconsistent normal/bold/italic height.  See
 * notebookmain.js.  Such fonts will have keywords vertically offset with
 * respect to the rest of the text.  The user should select a better font.
 * See: https://github.com/ipython/ipython/issues/1503
 *
 * .CodeMirror span {
 *      vertical-align: bottom;
 * }
 */
.CodeMirror {
  line-height: 1.21429em;
  /* Changed from 1em to our global default */
  font-size: 14px;
  height: auto;
  /* Changed to auto to autogrow */
  background: none;
  /* Changed from white to allow our bg to show through */
}
.CodeMirror-scroll {
  /*  The CodeMirror docs are a bit fuzzy on if overflow-y should be hidden or visible.*/
  /*  We have found that if it is visible, vertical scrollbars appear with font size changes.*/
  overflow-y: hidden;
  overflow-x: auto;
}
.CodeMirror-lines {
  /* In CM2, this used to be 0.4em, but in CM3 it went to 4px. We need the em value because */
  /* we have set a different line-height and want this to scale with that. */
  padding: 0.4em;
}
.CodeMirror-linenumber {
  padding: 0 8px 0 4px;
}
.CodeMirror-gutters {
  border-bottom-left-radius: 2px;
  border-top-left-radius: 2px;
}
.CodeMirror pre {
  /* In CM3 this went to 4px from 0 in CM2. We need the 0 value because of how we size */
  /* .CodeMirror-lines */
  padding: 0;
  border: 0;
  border-radius: 0;
}
/*

Original style from softwaremaniacs.org (c) Ivan Sagalaev <Maniac@SoftwareManiacs.Org>
Adapted from GitHub theme

*/
.highlight-base {
  color: #000;
}
.highlight-variable {
  color: #000;
}
.highlight-variable-2 {
  color: #1a1a1a;
}
.highlight-variable-3 {
  color: #333333;
}
.highlight-string {
  color: #BA2121;
}
.highlight-comment {
  color: #408080;
  font-style: italic;
}
.highlight-number {
  color: #080;
}
.highlight-atom {
  color: #88F;
}
.highlight-keyword {
  color: #008000;
  font-weight: bold;
}
.highlight-builtin {
  color: #008000;
}
.highlight-error {
  color: #f00;
}
.highlight-operator {
  color: #AA22FF;
  font-weight: bold;
}
.highlight-meta {
  color: #AA22FF;
}
/* previously not defined, copying from default codemirror */
.highlight-def {
  color: #00f;
}
.highlight-string-2 {
  color: #f50;
}
.highlight-qualifier {
  color: #555;
}
.highlight-bracket {
  color: #997;
}
.highlight-tag {
  color: #170;
}
.highlight-attribute {
  color: #00c;
}
.highlight-header {
  color: blue;
}
.highlight-quote {
  color: #090;
}
.highlight-link {
  color: #00c;
}
/* apply the same style to codemirror */
.cm-s-ipython span.cm-keyword {
  color: #008000;
  font-weight: bold;
}
.cm-s-ipython span.cm-atom {
  color: #88F;
}
.cm-s-ipython span.cm-number {
  color: #080;
}
.cm-s-ipython span.cm-def {
  color: #00f;
}
.cm-s-ipython span.cm-variable {
  color: #000;
}
.cm-s-ipython span.cm-operator {
  color: #AA22FF;
  font-weight: bold;
}
.cm-s-ipython span.cm-variable-2 {
  color: #1a1a1a;
}
.cm-s-ipython span.cm-variable-3 {
  color: #333333;
}
.cm-s-ipython span.cm-comment {
  color: #408080;
  font-style: italic;
}
.cm-s-ipython span.cm-string {
  color: #BA2121;
}
.cm-s-ipython span.cm-string-2 {
  color: #f50;
}
.cm-s-ipython span.cm-meta {
  color: #AA22FF;
}
.cm-s-ipython span.cm-qualifier {
  color: #555;
}
.cm-s-ipython span.cm-builtin {
  color: #008000;
}
.cm-s-ipython span.cm-bracket {
  color: #997;
}
.cm-s-ipython span.cm-tag {
  color: #170;
}
.cm-s-ipython span.cm-attribute {
  color: #00c;
}
.cm-s-ipython span.cm-header {
  color: blue;
}
.cm-s-ipython span.cm-quote {
  color: #090;
}
.cm-s-ipython span.cm-link {
  color: #00c;
}
.cm-s-ipython span.cm-error {
  color: #f00;
}
.cm-s-ipython span.cm-tab {
  background: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAMCAYAAAAkuj5RAAAAAXNSR0IArs4c6QAAAGFJREFUSMft1LsRQFAQheHPowAKoACx3IgEKtaEHujDjORSgWTH/ZOdnZOcM/sgk/kFFWY0qV8foQwS4MKBCS3qR6ixBJvElOobYAtivseIE120FaowJPN75GMu8j/LfMwNjh4HUpwg4LUAAAAASUVORK5CYII=);
  background-position: right;
  background-repeat: no-repeat;
}
div.output_wrapper {
  /* this position must be relative to enable descendents to be absolute within it */
  position: relative;
  /* Old browsers */
  display: -webkit-box;
  -webkit-box-orient: vertical;
  -webkit-box-align: stretch;
  display: -moz-box;
  -moz-box-orient: vertical;
  -moz-box-align: stretch;
  display: box;
  box-orient: vertical;
  box-align: stretch;
  /* Modern browsers */
  display: flex;
  flex-direction: column;
  align-items: stretch;
  z-index: 1;
}
/* class for the output area when it should be height-limited */
div.output_scroll {
  /* ideally, this would be max-height, but FF barfs all over that */
  height: 24em;
  /* FF needs this *and the wrapper* to specify full width, or it will shrinkwrap */
  width: 100%;
  overflow: auto;
  border-radius: 2px;
  -webkit-box-shadow: inset 0 2px 8px rgba(0, 0, 0, 0.8);
  box-shadow: inset 0 2px 8px rgba(0, 0, 0, 0.8);
  display: block;
}
/* output div while it is collapsed */
div.output_collapsed {
  margin: 0px;
  padding: 0px;
  /* Old browsers */
  display: -webkit-box;
  -webkit-box-orient: vertical;
  -webkit-box-align: stretch;
  display: -moz-box;
  -moz-box-orient: vertical;
  -moz-box-align: stretch;
  display: box;
  box-orient: vertical;
  box-align: stretch;
  /* Modern browsers */
  display: flex;
  flex-direction: column;
  align-items: stretch;
}
div.out_prompt_overlay {
  height: 100%;
  padding: 0px 0.4em;
  position: absolute;
  border-radius: 2px;
}
div.out_prompt_overlay:hover {
  /* use inner shadow to get border that is computed the same on WebKit/FF */
  -webkit-box-shadow: inset 0 0 1px #000;
  box-shadow: inset 0 0 1px #000;
  background: rgba(240, 240, 240, 0.5);
}
div.output_prompt {
  color: #D84315;
}
/* This class is the outer container of all output sections. */
div.output_area {
  padding: 0px;
  page-break-inside: avoid;
  /* Old browsers */
  display: -webkit-box;
  -webkit-box-orient: horizontal;
  -webkit-box-align: stretch;
  display: -moz-box;
  -moz-box-orient: horizontal;
  -moz-box-align: stretch;
  display: box;
  box-orient: horizontal;
  box-align: stretch;
  /* Modern browsers */
  display: flex;
  flex-direction: row;
  align-items: stretch;
}
div.output_area .MathJax_Display {
  text-align: left !important;
}
div.output_area 
div.output_area 
div.output_area img,
div.output_area svg {
  max-width: 100%;
  height: auto;
}
div.output_area img.unconfined,
div.output_area svg.unconfined {
  max-width: none;
}
/* This is needed to protect the pre formating from global settings such
   as that of bootstrap */
.output {
  /* Old browsers */
  display: -webkit-box;
  -webkit-box-orient: vertical;
  -webkit-box-align: stretch;
  display: -moz-box;
  -moz-box-orient: vertical;
  -moz-box-align: stretch;
  display: box;
  box-orient: vertical;
  box-align: stretch;
  /* Modern browsers */
  display: flex;
  flex-direction: column;
  align-items: stretch;
}
@media (max-width: 540px) {
  div.output_area {
    /* Old browsers */
    display: -webkit-box;
    -webkit-box-orient: vertical;
    -webkit-box-align: stretch;
    display: -moz-box;
    -moz-box-orient: vertical;
    -moz-box-align: stretch;
    display: box;
    box-orient: vertical;
    box-align: stretch;
    /* Modern browsers */
    display: flex;
    flex-direction: column;
    align-items: stretch;
  }
}
div.output_area pre {
  margin: 0;
  padding: 0;
  border: 0;
  vertical-align: baseline;
  color: black;
  background-color: transparent;
  border-radius: 0;
}
/* This class is for the output subarea inside the output_area and after
   the prompt div. */
div.output_subarea {
  overflow-x: auto;
  padding: 0.4em;
  /* Old browsers */
  -webkit-box-flex: 1;
  -moz-box-flex: 1;
  box-flex: 1;
  /* Modern browsers */
  flex: 1;
  max-width: calc(100% - 14ex);
}
div.output_scroll div.output_subarea {
  overflow-x: visible;
}
/* The rest of the output_* classes are for special styling of the different
   output types */
/* all text output has this class: */
div.output_text {
  text-align: left;
  color: #000;
  /* This has to match that of the the CodeMirror class line-height below */
  line-height: 1.21429em;
}
/* stdout/stderr are 'text' as well as 'stream', but execute_result/error are *not* streams */
div.output_stderr {
  background: #fdd;
  /* very light red background for stderr */
}
div.output_latex {
  text-align: left;
}
/* Empty output_javascript divs should have no height */
div.output_javascript:empty {
  padding: 0;
}
.js-error {
  color: darkred;
}
/* raw_input styles */
div.raw_input_container {
  line-height: 1.21429em;
  padding-top: 5px;
}
pre.raw_input_prompt {
  /* nothing needed here. */
}
input.raw_input {
  font-family: monospace;
  font-size: inherit;
  color: inherit;
  width: auto;
  /* make sure input baseline aligns with prompt */
  vertical-align: baseline;
  /* padding + margin = 0.5em between prompt and cursor */
  padding: 0em 0.25em;
  margin: 0em 0.25em;
}
input.raw_input:focus {
  box-shadow: none;
}
p.p-space {
  margin-bottom: 10px;
}
div.output_unrecognized {
  padding: 5px;
  font-weight: bold;
  color: red;
}
div.output_unrecognized a {
  color: inherit;
  text-decoration: none;
}
div.output_unrecognized a:hover {
  color: inherit;
  text-decoration: none;
}
.rendered_html {
  color: #000;
  /* any extras will just be numbers: */
}



.rendered_html :link {
  text-decoration: underline;
}
.rendered_html :visited {
  text-decoration: underline;
}






.rendered_html h1:first-child {
  margin-top: 0.538em;
}
.rendered_html h2:first-child {
  margin-top: 0.636em;
}
.rendered_html h3:first-child {
  margin-top: 0.777em;
}
.rendered_html h4:first-child {
  margin-top: 1em;
}
.rendered_html h5:first-child {
  margin-top: 1em;
}
.rendered_html h6:first-child {
  margin-top: 1em;
}








.rendered_html * + ul {
  margin-top: 1em;
}
.rendered_html * + ol {
  margin-top: 1em;
}


.rendered_html pre,



.rendered_html tr,
.rendered_html th,

.rendered_html td,


.rendered_html * + table {
  margin-top: 1em;
}

.rendered_html * + p {
  margin-top: 1em;
}

.rendered_html * + img {
  margin-top: 1em;
}
.rendered_html img,

.rendered_html img.unconfined,

div.text_cell {
  /* Old browsers */
  display: -webkit-box;
  -webkit-box-orient: horizontal;
  -webkit-box-align: stretch;
  display: -moz-box;
  -moz-box-orient: horizontal;
  -moz-box-align: stretch;
  display: box;
  box-orient: horizontal;
  box-align: stretch;
  /* Modern browsers */
  display: flex;
  flex-direction: row;
  align-items: stretch;
}
@media (max-width: 540px) {
  div.text_cell > div.prompt {
    display: none;
  }
}
div.text_cell_render {
  /*font-family: "Helvetica Neue", Arial, Helvetica, Geneva, sans-serif;*/
  outline: none;
  resize: none;
  width: inherit;
  border-style: none;
  padding: 0.5em 0.5em 0.5em 0.4em;
  color: #000;
  box-sizing: border-box;
  -moz-box-sizing: border-box;
  -webkit-box-sizing: border-box;
}
a.anchor-link:link {
  text-decoration: none;
  padding: 0px 20px;
  visibility: hidden;
}
h1:hover .anchor-link,
h2:hover .anchor-link,
h3:hover .anchor-link,
h4:hover .anchor-link,
h5:hover .anchor-link,
h6:hover .anchor-link {
  visibility: visible;
}
.text_cell.rendered .input_area {
  display: none;
}
.text_cell.rendered 
.text_cell.unrendered .text_cell_render {
  display: none;
}
.cm-header-1,
.cm-header-2,
.cm-header-3,
.cm-header-4,
.cm-header-5,
.cm-header-6 {
  font-weight: bold;
  font-family: "Helvetica Neue", Helvetica, Arial, sans-serif;
}
.cm-header-1 {
  font-size: 185.7%;
}
.cm-header-2 {
  font-size: 157.1%;
}
.cm-header-3 {
  font-size: 128.6%;
}
.cm-header-4 {
  font-size: 110%;
}
.cm-header-5 {
  font-size: 100%;
  font-style: italic;
}
.cm-header-6 {
  font-size: 100%;
  font-style: italic;
}
</style>
<style type="text/css">.highlight .hll { background-color: #ffffcc }
.highlight  { background: #f8f8f8; }
.highlight .c { color: #408080; font-style: italic } /* Comment */
.highlight .err { border: 1px solid #FF0000 } /* Error */
.highlight .k { color: #008000; font-weight: bold } /* Keyword */
.highlight .o { color: #666666 } /* Operator */
.highlight .ch { color: #408080; font-style: italic } /* Comment.Hashbang */
.highlight .cm { color: #408080; font-style: italic } /* Comment.Multiline */
.highlight .cp { color: #BC7A00 } /* Comment.Preproc */
.highlight .cpf { color: #408080; font-style: italic } /* Comment.PreprocFile */
.highlight .c1 { color: #408080; font-style: italic } /* Comment.Single */
.highlight .cs { color: #408080; font-style: italic } /* Comment.Special */
.highlight .gd { color: #A00000 } /* Generic.Deleted */
.highlight .ge { font-style: italic } /* Generic.Emph */
.highlight .gr { color: #FF0000 } /* Generic.Error */
.highlight .gh { color: #000080; font-weight: bold } /* Generic.Heading */
.highlight .gi { color: #00A000 } /* Generic.Inserted */
.highlight .go { color: #888888 } /* Generic.Output */
.highlight .gp { color: #000080; font-weight: bold } /* Generic.Prompt */
.highlight .gs { font-weight: bold } /* Generic.Strong */
.highlight .gu { color: #800080; font-weight: bold } /* Generic.Subheading */
.highlight .gt { color: #0044DD } /* Generic.Traceback */
.highlight .kc { color: #008000; font-weight: bold } /* Keyword.Constant */
.highlight .kd { color: #008000; font-weight: bold } /* Keyword.Declaration */
.highlight .kn { color: #008000; font-weight: bold } /* Keyword.Namespace */
.highlight .kp { color: #008000 } /* Keyword.Pseudo */
.highlight .kr { color: #008000; font-weight: bold } /* Keyword.Reserved */
.highlight .kt { color: #B00040 } /* Keyword.Type */
.highlight .m { color: #666666 } /* Literal.Number */
.highlight .s { color: #BA2121 } /* Literal.String */
.highlight .na { color: #7D9029 } /* Name.Attribute */
.highlight .nb { color: #008000 } /* Name.Builtin */
.highlight .nc { color: #0000FF; font-weight: bold } /* Name.Class */
.highlight .no { color: #880000 } /* Name.Constant */
.highlight .nd { color: #AA22FF } /* Name.Decorator */
.highlight .ni { color: #999999; font-weight: bold } /* Name.Entity */
.highlight .ne { color: #D2413A; font-weight: bold } /* Name.Exception */
.highlight .nf { color: #0000FF } /* Name.Function */
.highlight .nl { color: #A0A000 } /* Name.Label */
.highlight .nn { color: #0000FF; font-weight: bold } /* Name.Namespace */
.highlight .nt { color: #008000; font-weight: bold } /* Name.Tag */
.highlight .nv { color: #19177C } /* Name.Variable */
.highlight .ow { color: #AA22FF; font-weight: bold } /* Operator.Word */
.highlight .w { color: #bbbbbb } /* Text.Whitespace */
.highlight .mb { color: #666666 } /* Literal.Number.Bin */
.highlight .mf { color: #666666 } /* Literal.Number.Float */
.highlight .mh { color: #666666 } /* Literal.Number.Hex */
.highlight .mi { color: #666666 } /* Literal.Number.Integer */
.highlight .mo { color: #666666 } /* Literal.Number.Oct */
.highlight .sa { color: #BA2121 } /* Literal.String.Affix */
.highlight .sb { color: #BA2121 } /* Literal.String.Backtick */
.highlight .sc { color: #BA2121 } /* Literal.String.Char */
.highlight .dl { color: #BA2121 } /* Literal.String.Delimiter */
.highlight .sd { color: #BA2121; font-style: italic } /* Literal.String.Doc */
.highlight .s2 { color: #BA2121 } /* Literal.String.Double */
.highlight .se { color: #BB6622; font-weight: bold } /* Literal.String.Escape */
.highlight .sh { color: #BA2121 } /* Literal.String.Heredoc */
.highlight .si { color: #BB6688; font-weight: bold } /* Literal.String.Interpol */
.highlight .sx { color: #008000 } /* Literal.String.Other */
.highlight .sr { color: #BB6688 } /* Literal.String.Regex */
.highlight .s1 { color: #BA2121 } /* Literal.String.Single */
.highlight .ss { color: #19177C } /* Literal.String.Symbol */
.highlight .bp { color: #008000 } /* Name.Builtin.Pseudo */
.highlight .fm { color: #0000FF } /* Name.Function.Magic */
.highlight .vc { color: #19177C } /* Name.Variable.Class */
.highlight .vg { color: #19177C } /* Name.Variable.Global */
.highlight .vi { color: #19177C } /* Name.Variable.Instance */
.highlight .vm { color: #19177C } /* Name.Variable.Magic */
.highlight .il { color: #666666 } /* Literal.Number.Integer.Long */</style>
<style type="text/css">
/* Temporary definitions which will become obsolete with Notebook release 5.0 */
.ansi-black-fg { color: #3E424D; }
.ansi-black-bg { background-color: #3E424D; }
.ansi-black-intense-fg { color: #282C36; }
.ansi-black-intense-bg { background-color: #282C36; }
.ansi-red-fg { color: #E75C58; }
.ansi-red-bg { background-color: #E75C58; }
.ansi-red-intense-fg { color: #B22B31; }
.ansi-red-intense-bg { background-color: #B22B31; }
.ansi-green-fg { color: #00A250; }
.ansi-green-bg { background-color: #00A250; }
.ansi-green-intense-fg { color: #007427; }
.ansi-green-intense-bg { background-color: #007427; }
.ansi-yellow-fg { color: #DDB62B; }
.ansi-yellow-bg { background-color: #DDB62B; }
.ansi-yellow-intense-fg { color: #B27D12; }
.ansi-yellow-intense-bg { background-color: #B27D12; }
.ansi-blue-fg { color: #208FFB; }
.ansi-blue-bg { background-color: #208FFB; }
.ansi-blue-intense-fg { color: #0065CA; }
.ansi-blue-intense-bg { background-color: #0065CA; }
.ansi-magenta-fg { color: #D160C4; }
.ansi-magenta-bg { background-color: #D160C4; }
.ansi-magenta-intense-fg { color: #A03196; }
.ansi-magenta-intense-bg { background-color: #A03196; }
.ansi-cyan-fg { color: #60C6C8; }
.ansi-cyan-bg { background-color: #60C6C8; }
.ansi-cyan-intense-fg { color: #258F8F; }
.ansi-cyan-intense-bg { background-color: #258F8F; }
.ansi-white-fg { color: #C5C1B4; }
.ansi-white-bg { background-color: #C5C1B4; }
.ansi-white-intense-fg { color: #A1A6B2; }
.ansi-white-intense-bg { background-color: #A1A6B2; }

.ansi-bold { font-weight: bold; }
</style>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h1 id="NPCoin--Part-1.-Mining-and-Hash-Functions">NPCoin- Part 1. Mining and Hash Functions<a class="anchor-link" href="#NPCoin--Part-1.-Mining-and-Hash-Functions">¶</a></h1><p>This is a learning project based on many online resources, including dumbcoin as inspiration, that I use to test and understand some of the ideas behind bitcoin. Bitcoin is written in C; for simplicity in implementing some of the crytographic functions, I use python and hashlib. This is not a real cryptocurrency, the code is not secure and and it is just for my own learning purposes.</p>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [17]:</div>
<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="kn">import</span> <span class="nn">hashlib</span>
<span class="kn">import</span> <span class="nn">random</span> 
<span class="kn">import</span> <span class="nn">string</span> 
<span class="kn">import</span> <span class="nn">json</span> 
<span class="kn">import</span> <span class="nn">binascii</span>
<span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span> 
<span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span> 
<span class="kn">import</span> <span class="nn">pylab</span> <span class="k">as</span> <span class="nn">pl</span> 
<span class="kn">import</span> <span class="nn">logging</span> 
<span class="o">%</span><span class="k">matplotlib</span> inline
</pre></div>
</div>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>The first part is defining the sha256 hash function. SHA256 is the 256 bit secure hash algorith that forms of the heart of the mining layer of the bitcoin protocol. Each set of transactions per block are run through two rounds of SHA256, this specific code only runs throguh it once. 
The hashlib python library is used to impelment sha256. We first convert unicode to bytes, which is what sha256 takes as an input. Encodes it to bytes using ascii encoding. The function returns a message digest in hexadecimal.</p>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h1 id="How-do-hash-functions-work?">How do hash functions work?<a class="anchor-link" href="#How-do-hash-functions-work?">¶</a></h1><p>Hash functions are simple cryptographic primitives that are used in applications are varied as message transfer, data compression, authentication, and application protocols like TLS, etc. They vary in some of their properties, but in general are functions that can map data of arbitrary size to some fixed size (in the case of SHA256, this fixed size is 256 bits). We can call the input data of any size the message, and the output data of fixed size the hash. 
The hash of a hash function is this end data of fixed size.  The useful ones have some properties that are shared among them: they are preimage resistant, are collision resistant, and are second preimage resistant.</p>
<p>1) Preimage Resistance - for any hash y, it should be difficult to find some message m which, when hashed, results in y. This is simple. Unlike something like an encryption, which naturally has a decryption function associated with it, as the goal is to eventually decrypyt the data, a hash function should not have an "easy" dehashing algorithm. It should be one way operation. "difficult or hard" has a very specific meaning here. For a hash function with a range of size 2k, it should take a hacker/adversary 2k/2 or 2k-1 attempts on average before they find the solution.</p>
<p>2) Collision Resistance - given two messages m1 and m2, it should be difficult to find a hash such that hash(k,m1)=hash(k,m2) where k is the hash key. This just means that two messages run through a hash algorithm should not result in the creation of the same hash. If one thinks about the problem from a mapping perspective, they can see that a hash function maps from a infinite size space (the message can be of arbitrary length) to a finite space (whatever the length of the hash is intrisincally limits the number of possible hashes, i.e. the hash space). Basically this means that collisions are a certainty to occur at some point, as you are eventually going to reach the limit on the hash space. The function design this creates is to make the hash space large enough to make that probability very low.</p>
<p>3) 2nd preimage resistance - the difference between collision resistance and 2nd preimage resistance is one based on the scenarios presented to an attacker. In second preimage resistance, it is the case that if you are given an input message, it should be computationlly difficult to find a second input message that has the same output as a specified input.</p>
<p>Though all three of these properties sound similar, The difference between them, and particularly between 2 and 3 are in how you formulate them in attack scenarios.</p>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [18]:</div>
<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="k">def</span> <span class="nf">sha256</span><span class="p">(</span><span class="n">message</span><span class="p">):</span>
    <span class="k">return</span> <span class="n">hashlib</span><span class="o">.</span><span class="n">sha256</span><span class="p">(</span><span class="n">message</span><span class="o">.</span><span class="n">encode</span><span class="p">(</span><span class="s1">'ascii'</span><span class="p">))</span><span class="o">.</span><span class="n">hexdigest</span><span class="p">()</span>
</pre></div>
</div>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h1 id="About-Mining-Difficulty">About Mining Difficulty<a class="anchor-link" href="#About-Mining-Difficulty">¶</a></h1><p>Bitcoin uses hash functions, specifically SHA256 to provide security to the network in the form of mining. 
As explained, hash functions map/compress some message of arbitrary size to a hash of fixed size. This hash is meant to be 1) one-way in the form of first and second preimage reistant conditions, 2) resistant to collisions and 3) reasonbly unique (which is an implication of the first two).</p>
<p>In Bitcoin the data to be hashed is a list of transactions. Every 10 minutes transactions take place and are recorded in a block datastructure. The transactions are public key to public key, and the entire block data is hashed. This hash is then put into the header of the next block of transactions, and it the block points back to the previous block. Because hashes are "unique", the transaction history cannot be rewritten without changing the hash, which would "delink" the block from the chain. This is the blockchain (simplified).</p>
<p>Hashes are not computationally difficult i.e. hashing a specific piece of data is not computationally expensive. Mining, however, in bitcoin is meant to be computationally difficult, as this is another layer of security. Bitcoin accomplishes this by requiring a specific hash. The protocol asks you to find a nonce (as I have done below) to append to the transaction message that produces a "specific" type of hash. In bitcoin, this means that the 256 bit hash has to "below" a certain number, i.e. the first "x" digits have to be 0 in the hash. This "x" is a function of the computational power in the network. So if there is only one CPU mining bitcoin, the number of leading zeros (x) can be 1 or 2. If giant server farms are dedicating all their computation power to mine bitcoin, "x" can be 75 out of 256 zeroes. In this particulary implementation, we use leading Ones instead of Leading Zeroes as Bitcoin does, but the principles remain the same. I first demonstrate this below using a very simple function to show how difficult this can make mining.</p>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [19]:</div>
<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">message</span> <span class="o">=</span> <span class="s2">"Bob to Alice 1 NPC, Alice to Jack .16 NPC"</span>
<span class="k">for</span> <span class="n">nonce</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">10000</span><span class="p">):</span> 
    <span class="n">digest</span> <span class="o">=</span> <span class="n">sha256</span><span class="p">(</span><span class="n">message</span><span class="o">+</span><span class="nb">str</span><span class="p">(</span><span class="n">nonce</span><span class="p">))</span>
    <span class="k">if</span> <span class="n">digest</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span><span class="s1">'11'</span><span class="p">):</span> <span class="c1">#number of leading ones required. </span>
        <span class="nb">print</span><span class="p">(</span><span class="s1">'Found nonce = </span><span class="si">%d</span><span class="s1">'</span> <span class="o">%</span> <span class="n">nonce</span><span class="p">)</span>
        <span class="k">break</span> 
<span class="nb">print</span><span class="p">(</span><span class="n">sha256</span><span class="p">(</span><span class="n">message</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">nonce</span><span class="p">)))</span>
</pre></div>
</div>
</div>
</div>
<div class="output_wrapper">
<div class="output">
<div class="output_area">
<div class="prompt"></div>
<div class="output_subarea output_stream output_stdout output_text">
<pre>Found nonce = 329
11e5084a476151f54575948a0c25e25dda2d041123cb16ef99bba95835eb0137
</pre>
</div>
</div>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>As we can see, the loop only had to iterate through 329 digits to find a nonce that one could append to the message, which was just 2 simple transactions in string format. This is with a "difficulty" of 2, i.e. we only ask that the hash start with 2 1's. In the following example, I will keep the exact same message, but will increase the difficulty i.e. the number of leading 1's required in the hash.</p>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [20]:</div>
<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">message</span> <span class="o">=</span> <span class="s2">"Bob to Alice 1 NPC, Alice to Jack .16 NPC"</span>
<span class="k">for</span> <span class="n">nonce</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1000000</span><span class="p">):</span> 
    <span class="n">digest</span> <span class="o">=</span> <span class="n">sha256</span><span class="p">(</span><span class="n">message</span><span class="o">+</span><span class="nb">str</span><span class="p">(</span><span class="n">nonce</span><span class="p">))</span>
    <span class="k">if</span> <span class="n">digest</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span><span class="s1">'1111'</span><span class="p">):</span> <span class="c1">#number of leading ones required. </span>
        <span class="nb">print</span><span class="p">(</span><span class="s1">'Found nonce = </span><span class="si">%d</span><span class="s1">'</span> <span class="o">%</span> <span class="n">nonce</span><span class="p">)</span>
        <span class="k">break</span> 
<span class="nb">print</span><span class="p">(</span><span class="n">sha256</span><span class="p">(</span><span class="n">message</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">nonce</span><span class="p">)))</span>
</pre></div>
</div>
</div>
</div>
<div class="output_wrapper">
<div class="output">
<div class="output_area">
<div class="prompt"></div>
<div class="output_subarea output_stream output_stdout output_text">
<pre>Found nonce = 41471
1111173ad19390ecad46f3da39765328224a9fd485e5e3913be59ace8b8931a0
</pre>
</div>
</div>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>As we see now, with a difficulty of 4, it took 41471 tries to find a hash that was sufficient, and I had to significantly increase the bounds of the range function (from 10000 to 1,000,000)to be sure that it would be within bounds. Now to demonstrate even further, how just simple increases in the difficulty level lead to exponential changes in computational work. I will do this again, except require a difficulty of 6.</p>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [21]:</div>
<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">message</span> <span class="o">=</span> <span class="s2">"Bob to Alice 1 NPC, Alice to Jack .16 NPC"</span>
<span class="k">for</span> <span class="n">nonce</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">10000000</span><span class="p">):</span> <span class="c1">#increase liberally</span>
    <span class="n">digest</span> <span class="o">=</span> <span class="n">sha256</span><span class="p">(</span><span class="n">message</span><span class="o">+</span><span class="nb">str</span><span class="p">(</span><span class="n">nonce</span><span class="p">))</span>
    <span class="k">if</span> <span class="n">digest</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span><span class="s1">'111111'</span><span class="p">):</span> <span class="c1">#number of leading ones required. </span>
        <span class="nb">print</span><span class="p">(</span><span class="s1">'Found nonce = </span><span class="si">%d</span><span class="s1">'</span> <span class="o">%</span> <span class="n">nonce</span><span class="p">)</span>
        <span class="k">break</span> 
<span class="nb">print</span><span class="p">(</span><span class="n">sha256</span><span class="p">(</span><span class="n">message</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">nonce</span><span class="p">)))</span>
</pre></div>
</div>
</div>
</div>
<div class="output_wrapper">
<div class="output">
<div class="output_area">
<div class="prompt"></div>
<div class="output_subarea output_stream output_stdout output_text">
<pre>Found nonce = 4979362
11111120541eb143acfa7b8feb16da90a61d4183aa74d2368c026cbaf37e8354
</pre>
</div>
</div>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Adding a requirement of 2 more leading ones increased the number of nonces that needed to be checked from about 40,000 to nearly 5 million. One can see how this grows extraordinarily computationally expensive extremely quickly as you add more and more leading 1's. One more time, this time with 8 leading ones.</p>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [23]:</div>
<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">message</span> <span class="o">=</span> <span class="s2">"Bob to Alice 1 NPC, Alice to Jack .16 NPC"</span>
<span class="k">for</span> <span class="n">nonce</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">10000000</span><span class="p">):</span> 
    <span class="n">digest</span> <span class="o">=</span> <span class="n">sha256</span><span class="p">(</span><span class="n">message</span><span class="o">+</span><span class="nb">str</span><span class="p">(</span><span class="n">nonce</span><span class="p">))</span>
    <span class="k">if</span> <span class="n">digest</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span><span class="s1">'11111111'</span><span class="p">):</span> <span class="c1">#number of leading ones required. 8 in this example</span>
        <span class="nb">print</span><span class="p">(</span><span class="s1">'Found nonce = </span><span class="si">%d</span><span class="s1">'</span> <span class="o">%</span> <span class="n">nonce</span><span class="p">)</span>
        <span class="k">break</span> 
<span class="nb">print</span><span class="p">(</span><span class="n">sha256</span><span class="p">(</span><span class="n">message</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">nonce</span><span class="p">)))</span>
</pre></div>
</div>
</div>
</div>
<div class="output_wrapper">
<div class="output">
<div class="output_area">
<div class="prompt"></div>
<div class="output_subarea output_stream output_stdout output_text">
<pre>3254fa0e85684b86840d9e2a63fb5a1da19e3587bdb60cc8a156db18879e74d0
</pre>
</div>
</div>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>As you can see, adding 8 leading zeroes led to the loop to go through a full 10 million nonce and hash combinations, and then break the loop and just print out a hash that does not have any leading ones. I could increase the range function bounds to over 100,000,000 attempts but it would take too much time on my device and I think the point has been illustrated.</p>
<p>Bitcoin was cleverly designed like this to make security a "function" of computational power in the network. What I illustrated above is the heart of the "proof of work" puzzle that underlies bitcoin security. This game goes on every 10 minutes, as all the active transactions that have happened in a 10 minute span are pooled into a "message" like above, and the goal of the mining process is to find the nonce that leads to a working hash based on how many leading zeroes (in our case leading ones) the protocol has determined is the adequate difficulty (the protocol actually sets the difficulty to map to about 10 minutes between block times i.e. it should take about 10 minutes between a block process being started and a nonce being found).  The goal of every miner in the network is to find this nonce. The rest of the network then easily verifies by appending the nonce found by the first miner to the transaction list and hashing it. If the result is satisfactory, that is, if it satisfies the number of leading ones that the difficulty dictates, then the game is over, and the miner who found the nonce first is rewarded with 25 bitcoin (this bitcoin reward halves based on a scale, the reward is now 12.5 bitcoin). I'll now move onto making difficulty a function 
as opposed to just having a nonce in some arbitrary range. This will be useful as I want to show the distribution of nonce attempts around different hashes.</p>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [24]:</div>
<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="k">def</span> <span class="nf">mine</span><span class="p">(</span><span class="n">message</span><span class="p">,</span> <span class="n">difficulty</span><span class="o">=</span><span class="mi">1</span><span class="p">):</span>
    <span class="sd">"""</span>
<span class="sd">    Given an input message, will return a nonce such that</span>
<span class="sd">    hash(string + nonce) starts with `difficulty` ones. Initialized at 1. </span>
<span class="sd">    </span>
<span class="sd">    Returns: (nonce, niters)</span>
<span class="sd">        nonce: The found nonce</span>
<span class="sd">        niters: The number of iterations required to find the nonce</span>
<span class="sd">    """</span>
    <span class="k">assert</span> <span class="n">difficulty</span> <span class="o">&gt;=</span> <span class="mi">1</span><span class="p">,</span> <span class="s2">"Difficulty of 0 is not possible"</span>
    <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span>
    <span class="n">prefix</span> <span class="o">=</span> <span class="s1">'1'</span> <span class="o">*</span> <span class="n">difficulty</span>
    <span class="k">while</span> <span class="kc">True</span><span class="p">:</span>
        <span class="n">nonce</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="n">i</span><span class="p">)</span>
        <span class="n">digest</span> <span class="o">=</span> <span class="n">sha256</span><span class="p">(</span><span class="n">message</span> <span class="o">+</span> <span class="n">nonce</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">digest</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span><span class="n">prefix</span><span class="p">):</span>
            <span class="k">return</span> <span class="n">nonce</span><span class="p">,</span> <span class="n">i</span>
        <span class="n">i</span> <span class="o">+=</span> <span class="mi">1</span>
</pre></div>
</div>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>we generate a mining function that initializes the number of leading 1's at 1, and takes an input of a message. 
(This is true even in bitcoin, the message to be hashed on chain can be anything that fits within bitcoin's scripting language, which is general purpose and can extend to smart contracts among other things. In Ethereum this includes smart contracts among other things). It then sets a prefix term, which is just the number of leading ones. The rest of the function is just what we did above. Below we test the same hash with 2 different difficulties to ensure it works.</p>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [26]:</div>
<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">nonce</span><span class="p">,</span> <span class="n">niters</span> <span class="o">=</span> <span class="n">mine</span><span class="p">(</span><span class="s1">'42'</span><span class="p">,</span> <span class="n">difficulty</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">'Took </span><span class="si">%d</span><span class="s1"> iterations'</span> <span class="o">%</span> <span class="n">niters</span><span class="p">)</span>

<span class="n">nonce</span><span class="p">,</span> <span class="n">niters</span> <span class="o">=</span> <span class="n">mine</span><span class="p">(</span><span class="s1">'42'</span><span class="p">,</span> <span class="n">difficulty</span><span class="o">=</span><span class="mi">3</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">'Took </span><span class="si">%d</span><span class="s1"> iterations'</span> <span class="o">%</span> <span class="n">niters</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="output_wrapper">
<div class="output">
<div class="output_area">
<div class="prompt"></div>
<div class="output_subarea output_stream output_stdout output_text">
<pre>Took 23 iterations
Took 2272 iterations
</pre>
</div>
</div>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Now we create a random string function that generates strings of length 10 (could be anything) of Uppercase letter and digits. Then we create a list of 50 random strings using this function. This is just to test the hash distribution. We'll then create a dataframe to show the difficulty levels and number of iterations it takes to generate a nonce for the test strings.</p>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [37]:</div>
<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="k">def</span> <span class="nf">random_string</span><span class="p">(</span><span class="n">length</span><span class="o">=</span><span class="mi">10</span><span class="p">):</span>
    <span class="k">return</span> <span class="s1">''</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">random</span><span class="o">.</span><span class="n">choice</span><span class="p">(</span><span class="n">string</span><span class="o">.</span><span class="n">ascii_uppercase</span> <span class="o">+</span> <span class="n">string</span><span class="o">.</span><span class="n">digits</span><span class="p">)</span> <span class="k">for</span> <span class="n">_</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">length</span><span class="p">))</span>

<span class="n">strings</span> <span class="o">=</span><span class="p">[</span><span class="n">random_string</span><span class="p">()</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">50</span><span class="p">)]</span>
</pre></div>
</div>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [38]:</div>
<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">levels</span> <span class="o">=</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">5</span><span class="p">)</span> <span class="c1">#keeping difficulty between 1 and 5</span>

<span class="c1"># An array of results with a row for each difficulty and a column for each test string</span>
<span class="n">results</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">index</span><span class="o">=</span><span class="n">strings</span><span class="p">,</span> <span class="n">columns</span><span class="o">=</span><span class="n">levels</span><span class="p">,</span> <span class="n">dtype</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">int</span><span class="p">)</span> 
<span class="c1">#created dataframe with levels as column, strings rows. </span>
<span class="n">results</span><span class="o">.</span><span class="n">fillna</span><span class="p">(</span><span class="n">value</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span> <span class="c1">#changes NaN values to 0. (aka when it fails to generate a nonce)</span>

<span class="k">for</span> <span class="n">level</span> <span class="ow">in</span> <span class="n">levels</span><span class="p">:</span>
    <span class="k">for</span> <span class="n">s</span> <span class="ow">in</span> <span class="n">strings</span><span class="p">:</span>
        <span class="n">_</span><span class="p">,</span> <span class="n">niters</span> <span class="o">=</span> <span class="n">mine</span><span class="p">(</span><span class="n">s</span><span class="p">,</span> <span class="n">difficulty</span><span class="o">=</span><span class="n">level</span><span class="p">)</span>
        <span class="n">results</span><span class="p">[</span><span class="n">level</span><span class="p">][</span><span class="n">s</span><span class="p">]</span> <span class="o">=</span> <span class="n">niters</span>

<span class="n">results</span><span class="o">.</span><span class="n">iloc</span><span class="p">[:</span><span class="mi">5</span><span class="p">]</span> <span class="c1">#just showing the first 5 strings in the list right now. Easier to make chart with 5 random strings. </span>
<span class="c1">#point would hold for all 50. </span>
</pre></div>
</div>
</div>
</div>
<div class="output_wrapper">
<div class="output">
<div class="output_area">
<div class="prompt output_prompt">Out[38]:</div>
<div class="output_html rendered_html output_subarea output_execute_result">
<div>
<style scoped="">
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
<thead>
<tr style="text-align: right;">
<th></th>
<th>1</th>
<th>2</th>
<th>3</th>
<th>4</th>
</tr>
</thead>
<tbody>
<tr>
<th>N78W91F707</th>
<td>17</td>
<td>504</td>
<td>504</td>
<td>64387</td>
</tr>
<tr>
<th>14WM9FGU8Q</th>
<td>10</td>
<td>54</td>
<td>11279</td>
<td>19681</td>
</tr>
<tr>
<th>NKF4OYIJEP</th>
<td>3</td>
<td>116</td>
<td>6574</td>
<td>216644</td>
</tr>
<tr>
<th>OX4931S0XG</th>
<td>1</td>
<td>123</td>
<td>123</td>
<td>230211</td>
</tr>
<tr>
<th>7E49AJ1TIJ</th>
<td>32</td>
<td>211</td>
<td>211</td>
<td>79072</td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>The chart above shows the amount of iterations it takes to find a nonce that produces a functional hash with the difficulty level specified. The string that is being hashed are the rows, the columns are the difficulty level, and the numbers represented are the number of iterations that it took find a functional nonce to produce a hash. As we can see, there is a general trend towards more iterations as the difficulty rises, but there is an element of randomness built into the hash function, so depending on the input string, it can sometimes take much less or much more than the average hashes expected. The distribution of hashspace is not "gaussian" or normal by any means. I want to plot a figure of this to further illustrate.</p>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [40]:</div>
<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">pl</span><span class="o">.</span><span class="n">figure</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span><span class="mi">5</span><span class="p">))</span>
<span class="n">ax</span> <span class="o">=</span> <span class="n">pl</span><span class="o">.</span><span class="n">subplot</span><span class="p">(</span><span class="mi">111</span><span class="p">)</span>
<span class="n">ax</span><span class="o">.</span><span class="n">set_title</span><span class="p">(</span><span class="s1">'Number of iterations to mine a nonce for various difficulty levels'</span><span class="p">)</span>
<span class="n">results</span><span class="o">.</span><span class="n">plot</span><span class="o">.</span><span class="n">box</span><span class="p">(</span><span class="n">showfliers</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">ax</span><span class="o">=</span><span class="n">ax</span><span class="p">)</span>
<span class="n">ax</span><span class="o">.</span><span class="n">set_xlabel</span><span class="p">(</span><span class="s1">'Difficulty'</span><span class="p">)</span>
<span class="n">ax</span><span class="o">.</span><span class="n">set_ylabel</span><span class="p">(</span><span class="s1">'Iterations'</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="output_wrapper">
<div class="output">
<div class="output_area">
<div class="prompt output_prompt">Out[40]:</div>
<div class="output_text output_subarea output_execute_result">
<pre>Text(0,0.5,'Iterations')</pre>
</div>
</div>
<div class="output_area">
<div class="prompt"></div>
<div class="output_png output_subarea ">
<img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAnoAAAFNCAYAAACXPcKEAAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAALEgAACxIB0t1+/AAAADl0RVh0U29mdHdhcmUAbWF0cGxvdGxpYiB2ZXJzaW9uIDIuMS4yLCBodHRwOi8vbWF0cGxvdGxpYi5vcmcvNQv5yAAAIABJREFUeJzt3XmYZHV97/H3BwYRFFlkNLKOUWJwiaijYCT3GhdENKJPxCUuiCjqVaO5ahz1KuCSkMS4cDUoKgIuuBEVkQi4ct1YVFYxYYIoI8g2LOOCCn7vH+fXUjNUd9f0MtVz+v16nnq66lfnnN/3nDpd/enzO6cqVYUkSZL6Z5NxFyBJkqT5YdCTJEnqKYOeJElSTxn0JEmSesqgJ0mS1FMGPUmSpJ4y6Kk3khyb5K1j6jtJPpzk+iRnDXn+WUlOG0dtAzW8L8kbx1nDfEry+iQfHHcdC12SLZJ8IcmNST497nrWtRD20ySXJXlMu7/WfpXkKUkuT/KLJA9Kcp8kP0iyJsnfzkX9SZYlqSRLZrsubXmV5N5zsawp+vh6khfMZx+amTnZiaRhklwGbAH8cVX9srW9AHh2VT1yjKXNh72BxwI7TazroKr6GPCxicdJCtitqlbORzFJnge8oKr2HqjhxfPR1xQ1LAN+DGxWVbfMd39V9Q/z3UdPPBW4O3DXDfG6rK8NvZ9OZ8h+9XbgZVX1eYAkHwK+XlUPmq8aknwd+GhV+Y+M1ptH9DTflgCvGHcR6yvJpus5y67AZcNC3lybq//ytWjtCvzXTELefO97M/i9G4ddgYumeCwtKAY9zbd/AV6dZJt1nxg2PDF4+D/J85J8K8k7k9yQ5NIkf97aL09ydZID11ns9klOb8Mo30iy68Cy/7Q9tzrJfyZ52sBzxyY5KskpSX4J/OWQendIclKbf2WSF7b2g4EPAg9vwzmHD5n3eUm+2e6f0ZrPa9M/vbU/Mcm5bV2/neTPBua/LMlrk5wP/DLJkiQrkvx3W9cfJnlKm3Z34H0D9dwwsI5vHVjmC9t6rG7rtcPAc5XkxUkuacPR702S9ty927a9Mcm1ST657vo2E+t5Q6vj4Uk2SfJ/kvykvX7HJ9l62MxJHplkVZK/b9NemeTJSfZL8l+t7tcPTH9Yko+2+xP71oFJftrqfMPAtJsMbL/rknwqyXaT1LFtkpOTXNO2xclJdppknSdeq1cnOb9to08mueNst/vAvBcPvOYPbu07JDmx1fjjJH87SW2HA28Cnt5ek4Onek0GtuPBSX4KfHXIMi9O8sSBx0va9p6o7dNJft62xRlJ7jcw7e1+70bdTzP9+8eo+ylJntPW/7rB/aQ9d1iSjybZPMkvgE3pfnf/O8lX6d4r3tO2558MqX//dL/XN7V59m3tfxgeHuxnSG1vA/5ioI/3tP3iX9eZ7gtJXjnZOg5Mt3mSt7ffi6vSDTVv0Z6b7rXcK9170w1JzkvyyEn6GHnbawOoKm/e5uUGXAY8Bvh34K2t7QV0wxwAy4AClgzM83W6IUeA5wG3AAfRvbm+Ffgp8F5gc2AfYA1w5zb9se3x/2jPvxv4ZnvuTsDlbVlLgAcD1wL3G5j3RuARdP8A3XHI+nwD+DfgjsAewDXAowdq/eYU22Kt59t633vg8YOBq4E927oe2Lbf5gPb8lxgZ2CL1nYAsEOr9+nAL4F7TFZPW8eJ1+FRbf0f3LbV/wXOWKe+k4FtgF3auu7bnjsBeMPEdgL2nmSdh72+zwdWAn8M3LntGx+ZZP5Httf/TcBmwAtbHR8HtgLuB9xMd2oAwGF0w1uDfX+A7vSBBwK/AXZvz78S+C6wU1v/9wMnTFLHXYG/BrZs/X4a+Nw0+/1Z7bXZDrgYePEcbPcDgJ8BDwUC3JvuaNImwPfadrpD27aXAo+bpL4/bKfpXpOB7Xg83e/QFkOW9ybgYwOPnwD8aJ3lb9XW913Auevsk2v93jHifsr07x+j7qf3BX7Bbe8b76Db7x4zyfZa93f3D30O+T17WFu/x7Y6dgT+dPD9cdjrsu66DenjYcAVwCbt8fbAr4C7T7KOf6i5vQYn0e2bWwFfAP5xutey1X4dsF9bl8e2x0tnuu29bZibR/S0IbwJeHmSpTOY98dV9eGquhX4JF3QeXNV/aaqTgN+S/cHb8IXq+qMqvoN3RvNw5PsDDyRbmj1w1V1S1V9HziR7nylCZ+vqm9V1e+r6ubBItoy9gZeW1U3V9W5dEfxnjODdRrmhcD7q+rMqrq1qo6jCyZ7DUxzZFVdXlW/BqiqT1fVFa3eTwKX0P0BGMWzgGOq6vttW72OblstG5jmiKq6oap+CnyNLtwC/I4uYOzQtsU312M9nwW8o6ourapftH6fkcmHBH8HvK2qfgd8gu4P2rurak1VXUQ3ZPZnk8wLcHhV/bqqzgPOowt8AC8C3lBVq9r6HwY8dVgdVXVdVZ1YVb+qqjXA24D/Oc16Htlem9V0f0gntt1stvsLgH+uqrOrs7KqfkIX/JZW1Zur6rdVdSldwH3GNDVOGOU1Oayqfjmx763j48CTkmzZHv9NawOgqo5pr9fEdn5g1j6KO+nvHaNtr8mMup8+FTh54H3jjcDvR1j+KA6mq//0tn4/q6ofzXahVXUWXYB8dGt6Bt0/0FdNNV87OvxC4O+qanXbn/+B2/aVqV7LZwOnVNUpbV1OB86hC37rms17hOaYQU/zrqoupDtKsWIGsw++cU0EnHXb7jzw+PKBfn8BrKY7srIrsGcbcrgh3XDms4A/GjbvEDsAE2+ME35C91/uXNgVeNU69e3c+h1aX5Ln5rah3huA+9MFoVHsQFc/8IdtdR1rr8/PB+7/itu289/THVE6K8lFSZ4/Yp+367fdX0J3ccAw17WQD+315/b7xJ2Z3GTrsCvw2YFtdzFw67A6kmyZ5P1taO8muiHpbTL1+WST9Tub7b4z8N9D+toV2GGdfef1w9ZlEqO8JpP+blR3QdHFwF+1gPAkWjhIsmmSI9qQ5U10R7Fg7f10ut+76bbXZEbdT3dg7feNX7Y+5sJkr9lcOI4ufNF+fmSEeZbSHZn+3sC+8qXWPuVrSbefHbDOfrY3cI8h/czmPUJzzJO6taEcCnwfGDyvZOLChS2Bm9r9weA1EztP3ElyZ7rhiSvo3si/UVWPnWLemuK5K4Dtkmw1EPZ2oRtKmwuX0x25etso9aU79/ADdP/Rf6eqbk1yLt2b61rTTuIKujfuieXdiW6Ictr1qaqf0x0VIMnewJeTnFG3v4J4WA1r9Uu3DW9h7fC2IVwOPL+qvjXCtK8C7gPsWVU/T7IH8ANu29brY8bbna7me03S/uOq2m0G9dyuJtZ+TSbORZxufzoBeCbdwYMfDuwLfwPsT3cKx2XA1sD1rL3tpvu9m2x7Tfn+sR776ZXA7gN9bNn6mAuTvWbQ1b/lwOOp3vuGbaOPAhcmeSBd/Z8boZ5r6f45ul9VTbbPTfZaXk43pP/C6TpZj22vDcAjetog2i/4J4G/HWi7hu4N+9ntP//nM/mb4qj2S7J3kjsAbwHOrKrL6Y4o/kk76XqzdntougsXRqn/cuDbwD8muWO6CyUOZuAjU9bTVXTnRE34APDiJHumc6ckT0iy1STz34nuzf8agCQH0R3RG1z+Tm07DPNx4KAkeyTZnG745syqumy6wpMckNsuRri+1XHrkEmvoRsCG1zPE4C/S3LPFsT/AfhkbfiP+Xgf8LYWmEmyNMn+k0y7Fd0fxxvSXbBx6Cz6nfF2pztV4NVJHtL2kXu3+s8Cbkp3sc4W7Xfp/kkeOmJNc/GafILunNmXMDBsS7ftfkN3hGzLtuz1Men2mu79Yz32088ATxx433gzc/e38UOt/kenu+hlxyR/2p47l26IfLMky1n7NJJ1rft+QVWtAs6mO5J34iTD6mupqt/Tvde8M8ndAFpNjxuYbLLX8qN0R/oe17b3HdNdMHW7C5PWY9trAzDoaUN6M11AGfRC4DV0fwjuRxemZuPjdH+IVwMPoRuepR2F24fuXJQr6IbH/onu5OtRPZPuJOkrgM8Ch7bzVGbiMOC4NgTytKo6h25bvIfujXEl3QUVQ1XVD+mOjn6H7o/AA4DBo1NfpTt/7edJrh0y/1fozkU6ke6Ixr0Y/ZyuhwJnprsC8STgFVX14yF9/IrufLZvtfXcCziG7g/TGXSfsXcz8PIR+51L76ar/bQka+guzNhzkmnfRXdBx7Vtui/NtNPZbPeq+jTd9vw43UVHnwO2a0Pbf0V3Lt+PW50fpDt6NopZvyZVdSXdvvjndP/QTTiebuj1Z8AP6bbf+ix3uu011fvHqPvpRcBL6bbrlXS/f6vWp84p6j+L7gKwd9KdU/cNbjtC+ca2PtcDh7N2qFrXu+nOIb0+yZED7cfR/e6PMmw74bV07y/fbcPpX6Y7Yj1R89DXsv2zuz/daQHX0B3hew3Dc8RI214bRqqmOyIvSZIWmiT/g+5I27J2tE66HY/oSZK0kUmyGd2H0X/QkKepGPQkSdqItHOLb6C74vVdYy5HC5xDt5IkST3lET1JkqSeMuhJkiT1lB+Y3Gy//fa1bNmycZchSZI0re9973vXVtW0Xy1q0GuWLVvGOeecM+4yJEmSppXkJ9NP5dCtJElSbxn0JEmSesqgJ0mS1FMGPUmSpJ4y6EmSJPWUQU+SJKmnDHqSJEk9ZdCTJEnqKYOeJElSTxn0JEmSesqvQJMkSfMqyVj7r6qx9j9OHtGTJEnzqqpmfNv1tSfPav7FHPLAoCdJktRbBj1JkqSeMuhJkiT1lEFPkiSppwx6kiRJPWXQkyRJ6imDniRJUk8Z9CRJknrKoCdJktRTBj1JkqSeMuhJkiT1lEFPkiSppwx6kiRJPWXQkyRJ6imDniRJUk8Z9CRJknrKoCdJktRTBj1JkqSeMuhJkiT1lEFPkiSppwx6kiRJPWXQkyRJ6imDniRJUk8Z9CRJknrKoCdJktRTBj1JkqSeMuhJkiT1lEFPkiSppwx6kiRJPWXQkyRJ6imDniRJUk8Z9CRJknpq3oJekp2TfC3JxUkuSvKK1r5dktOTXNJ+btvak+TIJCuTnJ/kwQPLOrBNf0mSAwfaH5LkgjbPkUkyVR+SJEmLyXwe0bsFeFVV7Q7sBbw0yX2BFcBXqmo34CvtMcDjgd3a7RDgKOhCG3AosCfwMODQgeB2VJt2Yr59W/tkfUiSJC0a8xb0qurKqvp+u78GuBjYEdgfOK5Ndhzw5HZ/f+D46nwX2CbJPYDHAadX1eqquh44Hdi3PXeXqvpOVRVw/DrLGtaHJEnSorFBztFLsgx4EHAmcPequhK6MAjcrU22I3D5wGyrWttU7auGtDNFH5IkSYvGvAe9JHcGTgReWVU3TTXpkLaaQfv61HZIknOSnHPNNdesz6ySJEkL3rwGvSSb0YW8j1XVv7fmq9qwK+3n1a19FbDzwOw7AVdM077TkPap+lhLVR1dVcuravnSpUtntpKSJEkL1HxedRvgQ8DFVfWOgadOAiaunD0Q+PxA+3Pb1bd7ATe2YddTgX2SbNsuwtgHOLU9tybJXq2v566zrGF9SJIkLRpL5nHZjwCeA1yQ5NzW9nrgCOBTSQ4Gfgoc0J47BdgPWAn8CjgIoKpWJ3kLcHab7s1VtbrdfwlwLLAF8B/txhR9SJIkLRrzFvSq6psMP48O4NFDpi/gpZMs6xjgmCHt5wD3H9J+3bA+JEmSFhO/GUOSJKmnDHqSJEk9ZdCTJEnqKYOeJElSTxn0JEmSesqgJ0mS1FMGPUmSpJ4y6EmSJPWUQU+SJKmnDHqSJEk9ZdCTJEnqKYOeJElSTxn0JEmSesqgJ0mS1FMGPUmSpJ4y6EmSJPWUQU+SJKmnDHqSJEk9ZdCTJEnqKYOeJElSTxn0JEmSesqgJ0mS1FMGPUmSpJ4y6EmSJPWUQU+SJKmnDHqSJEk9ZdCTJEnqKYOeJElSTxn0JEmSesqgJ0mS1FMGPUmSpJ4y6EmSJPWUQU+SJKmnDHqSJEk9ZdCTJEnqKYOeJElSTxn0JEmSesqgJ0mS1FMGPUmSpJ4y6EmSJPWUQU+SJKmnDHqSJEk9ZdCTJEnqKYOeJElST81b0EtyTJKrk1w40HZYkp8lObfd9ht47nVJVib5zySPG2jft7WtTLJioP2eSc5MckmSTya5Q2vfvD1e2Z5fNl/rKEmStJDN5xG9Y4F9h7S/s6r2aLdTAJLcF3gGcL82z78l2TTJpsB7gccD9wWe2aYF+Ke2rN2A64GDW/vBwPVVdW/gnW06SZKkRWfegl5VnQGsHnHy/YFPVNVvqurHwErgYe22sqourarfAp8A9k8S4FHAZ9r8xwFPHljWce3+Z4BHt+klSZIWlXGco/eyJOe3od1tW9uOwOUD06xqbZO13xW4oapuWad9rWW1529s00uSJC0qGzroHQXcC9gDuBL419Y+7IhbzaB9qmXdTpJDkpyT5JxrrrlmqrolSZI2Ohs06FXVVVV1a1X9HvgA3dAsdEfkdh6YdCfgiinarwW2SbJknfa1ltWe35pJhpCr6uiqWl5Vy5cuXTrb1ZMkSVpQNmjQS3KPgYdPASauyD0JeEa7YvaewG7AWcDZwG7tCts70F2wcVJVFfA14Klt/gOBzw8s68B2/6nAV9v0kiRJi8qS6SeZmSQnAI8Etk+yCjgUeGSSPeiGUi8DXgRQVRcl+RTwQ+AW4KVVdWtbzsuAU4FNgWOq6qLWxWuBTyR5K/AD4EOt/UPAR5KspDuS94z5WkdJkqSFbN6CXlU9c0jzh4a0TUz/NuBtQ9pPAU4Z0n4ptw39DrbfDBywXsVKkiT1kN+MIUmS1FMGPUmSpJ4y6EmSJPWUQU+SJKmnDHqSJEk9ZdCTJEnqKYOeJElST40U9JL8c5K7JNksyVeSXJvk2fNdnCRJkmZu1CN6+1TVTcAT6b5L9k+A18xbVZIkSZq1UYPeZu3nfsAJVbV6nuqRJEnSHBn1K9C+kORHwK+B/5VkKXDz/JUlSZKk2RrpiF5VrQAeDiyvqt8BvwT2n8/CJEmSNDujHtED2B1YlmRwnuPnuB5JkiTNkZGCXpKPAPcCzgVubc2FQU+SJGnBGvWI3nLgvlVV81mMJElaeB54+Gnc+Ovfja3/ZSu+OLa+t95iM847dJ+x9T9bowa9C4E/Aq6cx1okSdICdOOvf8dlRzxh3GWMxThD5lwYNehtD/wwyVnAbyYaq+pJ81KVJEmSZm3UoHfYfBYhSZKkuTdS0KuqbyS5O/DQ1nRWVV09f2VJkiRptkb9rtunAWcBBwBPA85M8tT5LEySJEmzM+rQ7RuAh04cxWvfjPFl4DPzVZgkSZJmZ9Tvut1knaHa69ZjXkmSJI3BqEf0vpTkVOCE9vjpwCnzU5IkSZLmwqgXY7wmyV8DjwACHF1Vn53XyiRJkjQrI3/XbVWdCJw4j7VIkiRpDk0Z9JJ8s6r2TrKG7rtt//AUUFV1l3mtTpIkSTM2ZdCrqr3bz602TDmSJEmaK6N+jt5HRmmTJEnSwjHqR6Tcb/BBkiXAQ+a+HEmSJM2VKYNekte18/P+LMlN7bYGuAr4/AapUJIkSTMyZdCrqn9s5+f9S1Xdpd22qqq7VtXrNlCNkiRJmoFRP0fvdUm2BXYD7jjQfsZ8FSZJkqTZGSnoJXkB8ApgJ+BcYC/gO8Cj5q80SZIkzcaoF2O8Ango8JOq+kvgQcA181aVJEmSZm3UoHdzVd0MkGTzqvoRcJ/5K0uSJEmzNepXoK1Ksg3wOeD0JNcDV8xfWZIkSZqtUS/GeEq7e1iSrwFbA1+at6okSZI0a9MGvSSbAOdX1f0Bquob816VJEmSZm3ac/Sq6vfAeUl22QD1SJIkaY6Meo7ePYCLkpwF/HKisaqeNC9VSZIkadZGDXqHz2sVkiRJmnOjXozxjSS7ArtV1ZeTbAlsOr+lSZIkaTZG+hy9JC8EPgO8vzXtSPdRK5IkSVqgRv3A5JcCjwBuAqiqS4C7TTVDkmOSXJ3kwoG27ZKcnuSS9nPb1p4kRyZZmeT8JA8emOfANv0lSQ4caH9IkgvaPEcmyVR9SJIkLTajBr3fVNVvJx4kWQLUNPMcC+y7TtsK4CtVtRvwlfYY4PHAbu12CHBU62c74FBgT+BhwKEDwe2oNu3EfPtO04ckSdKiMmrQ+0aS1wNbJHks8GngC1PNUFVnAKvXad4fOK7dPw548kD78dX5LrBNknsAjwNOr6rVVXU9cDqwb3vuLlX1naoq4Ph1ljWsD0mSpEVl1KC3ArgGuAB4EXBKVb1hBv3dvaquBGg/J4Z/dwQuH5huVWubqn3VkPap+pAkSVpURv14lZdX1buBD0w0JHlFa5sLGdJWM2hfv06TQ+iGf9llFz8PWpIk9cuoR/QOHNL2vBn0d1UbdqX9vLq1rwJ2HphuJ+CKadp3GtI+VR+3U1VHV9Xyqlq+dOnSGayOJEnSwjVl0EvyzCRfAO6Z5KSB29eA62bQ30ncFhoPBD4/0P7cdvXtXsCNbdj1VGCfJNu2izD2AU5tz61Jsle72va56yxrWB+SJEmLynRDt98GrgS2B/51oH0NcP5UMyY5AXgksH2SVXRXzx4BfCrJwcBPgQPa5KcA+wErgV8BBwFU1eokbwHObtO9uaomLvB4Cd2VvVsA/9FuTNGHJEnSojJl0KuqnwA/AR6+vguuqmdO8tSjh0xbdJ/VN2w5xwDHDGk/B7j/kPbrhvUhSZK02EwZ9JKsYfhFDqHLZ3eZl6okSZI0a9Md0dtqQxUiSZKkuTXqVbeSJEnayBj0JEmSesqgJ0mS1FMGPUmSpJ4y6EmSJPWUQU+SJKmnDHqSJEk9ZdCTJEnqKYOeJElSTxn0JEmSesqgJ0mS1FMGPUmSpJ4y6EmSJPWUQU+SJKmnDHqSJEk9ZdCTJEnqKYOeJElSTxn0JEmSesqgJ0mS1FMGPUmSpJ4y6EmSJPWUQU+SJKmnDHqSJEk9ZdCTJEnqKYOeJElSTxn0JEmSesqgJ0mS1FMGPUmSpJ4y6EmSJPWUQU+SJKmnDHqSJEk9tWTcBUiSpIVtq91X8IDjVoy7jLHYaneAJ4y7jBkz6EmSpCmtufgILjti4w07s7FsxRfHXcKsOHQrSZLUUwY9SZKknjLoSZIk9ZRBT5IkqacMepIkST1l0JMkSeopg54kSVJPGfQkSZJ6aixBL8llSS5Icm6Sc1rbdklOT3JJ+7lta0+SI5OsTHJ+kgcPLOfANv0lSQ4caH9IW/7KNm82/FpKkiSN1ziP6P1lVe1RVcvb4xXAV6pqN+Ar7THA44Hd2u0Q4CjogiFwKLAn8DDg0Ilw2KY5ZGC+fed/dSRJkhaWhTR0uz9wXLt/HPDkgfbjq/NdYJsk9wAeB5xeVaur6nrgdGDf9txdquo7VVXA8QPLkiRJWjTGFfQKOC3J95Ic0truXlVXArSfd2vtOwKXD8y7qrVN1b5qSLskSdKismRM/T6iqq5Icjfg9CQ/mmLaYefX1Qzab7/gLmQeArDLLrtMXbEkSdJGZixH9KrqivbzauCzdOfYXdWGXWk/r26TrwJ2Hph9J+CKadp3GtI+rI6jq2p5VS1funTpbFdLkiRpQdngQS/JnZJsNXEf2Ae4EDgJmLhy9kDg8+3+ScBz29W3ewE3tqHdU4F9kmzbLsLYBzi1PbcmyV7tatvnDixLkiRp0RjH0O3dgc+2TzxZAny8qr6U5GzgU0kOBn4KHNCmPwXYD1gJ/Ao4CKCqVid5C3B2m+7NVbW63X8JcCywBfAf7SZJkrSobPCgV1WXAg8c0n4d8Ogh7QW8dJJlHQMcM6T9HOD+sy5WkiRpI7aQPl5FkiRJc8igJ0mS1FMGPUmSpJ4y6EmSJPWUQU+SJKmnDHqSJEk9ZdCTJEnqKYOeJElSTxn0JEmSesqgJ0mS1FMGPUmSpJ4y6EmSJPWUQU+SJKmnDHqSJEk9ZdCTJEnqKYOeJElSTxn0JEmSesqgJ0mS1FMGPUmSpJ4y6EmSJPWUQU+SJKmnDHqSJEk9tWTcBUiSpIVv2YovjruEsdh6i83GXcKsGPQkSdKULjviCWPre9mKL461/42dQ7eSJEk9ZdCTJEnqKYOeJElSTxn0JEmSesqgJ0mS1FMGPUmSpJ4y6EmSJPWUQU+SJKmnDHqSJEk95TdjSJLWW5Kx9l9VY+1f2lh4RE+StN6qala3XV978qzmlzQag54kSVJPGfQkSZJ6yqAnSZLUUwY9SZKknjLoSZIk9ZQfryJJi9ADDz+NG3/9u7HWsGzFF8fS79ZbbMZ5h+4zlr6lDc2gJ0mL0I2//h2XHfGEcZcxFuMKmNI4OHQrSZLUUwY9SZKknurt0G2SfYF3A5sCH6yqI8ZckiQtGFvtvoIHHLdi3GWMxVa7AyzOYWstPr0Mekk2Bd4LPBZYBZyd5KSq+uF4K5OkhWHNxUd4jp60CPQy6AEPA1ZW1aUAST4B7A8Y9CSpWayBZ+stNht3CYtOktnN/0+z638xfz9yX4PejsDlA49XAXuuO1GSQ4BDAHbZZZcNU9l6esBxDxh3CWN1wYEXjLuEjYr7i/vLqGZ7NG+2f7hnazH/4d4Y+XqNT1+D3rB3oNvtZVV1NHA0wPLlyxfkXugfLq0P9xdtKP7hljYOfb3qdhWw88DjnYArxlSLJEnSWPQ16J0N7JbknknuADwDOGnMNUmSJG1QvRy6rapbkrwMOJXu41WOqaqLxlyWJEnSBtXLoAdQVacAp4y7DkmSpHHp69CtJEnSomfQkyRJ6imDniRJUk8Z9CRJknrKoCdJktRTBj1JkqSeMuhJkiT1VPy+wk6Sa4CfjLuOBWh74NpxF6GNgvuK1of7i0blvjLcrlW1dLqJDHqaUpJzqmr5uOvQwue+ovXh/qJRua/MjkO3kiRJPWXQkyRJ6imDnqZz9LgL0EbDfUXrw/1Fo3JfmQXP0ZMkSeopj+hJkiT1lEFPQyU5JsnVSS4cdy1a2JLsnORrSS5OclGSV4y7Ji1MSe6Y5Kwk57V95fBx16SFL8mmSX6Q5ORx17IxMuhpMscC+467CG0UbgFeVVW7A3sBL01y3zHXpIXpN8CjquqBwB7Avkn2GnNNWvj3JVzpAAADhElEQVReAVw87iI2VgY9DVVVZwCrx12HFr6qurKqvt/ur6F7Q95xvFVpIarOL9rDzdrNE8U1qSQ7AU8APjjuWjZWBj1JcybJMuBBwJnjrUQLVRuGOxe4Gji9qtxXNJV3AX8P/H7chWysDHqS5kSSOwMnAq+sqpvGXY8Wpqq6tar2AHYCHpbk/uOuSQtTkicCV1fV98Zdy8bMoCdp1pJsRhfyPlZV/z7uerTwVdUNwNfxXGBN7hHAk5JcBnwCeFSSj463pI2PQU/SrCQJ8CHg4qp6x7jr0cKVZGmSbdr9LYDHAD8ab1VaqKrqdVW1U1UtA54BfLWqnj3msjY6Bj0NleQE4DvAfZKsSnLwuGvSgvUI4Dl0/22f2277jbsoLUj3AL6W5HzgbLpz9PzIDGke+c0YkiRJPeURPUmSpJ4y6EmSJPWUQU+SJKmnDHqSJEk9ZdCTJEnqKYOeJAFJbm0fDXNRkvOS/O8km7Tnlic5st3fPMmX27RPT/IXbZ5zk+yY5DMz7P95Sd7T7j85yX3nbu0kLVZLxl2AJC0Qv25fzUWSuwEfB7YGDq2qc4Bz2nQPAjYbmPZ9wNur6sPt+afOQS1PBk4GfjgHy5K0iHlET5LWUVVXA4cAL0vnkUlObgHwo8Ae7Qjei4CnAW9K8rEky5JcCJBk0yRvT3JBkvOTvLy1X5Zk+3Z/eZKvD/ad5M+BJwH/0vq4V5LvDzy/WxK/+1PSSDyiJ0lDVNWlbej2bgNtVyd5AfDqqnoiQJKHAydX1WeSLBtYxCHAPYEHVdUtSbYbsd9vJzlpYpmtjxuT7FFV5wIHAcfOfg0lLQYe0ZOkyWUW8z4GeF9V3QJQVatnsawPAgcl2RR4Ot2wsiRNy6AnSUMk+WPgVuDqmS4CGPYdk7dw23vvHUdc1onA44EnAt+rqutmWJOkRcagJ0nrSLIUeB/wnpr5F4KfBrw4yZK2zImh28uAh7T7fz3JvGuArSYeVNXNwKnAUcCHJ5lHkm7HoCdJnS0mPl4F+DJdUDt8Fsv7IPBT4Pwk5wF/09oPB96d5P/RHTEc5hPAa5L8IMm9WtvH6I4QnjaLmiQtMpn5P6uSpA0lyauBravqjeOuRdLGw6tuJWmBS/JZ4F7Ao8Zdi6SNi0f0JEmSespz9CRJknrKoCdJktRTBj1JkqSeMuhJkiT1lEFPkiSppwx6kiRJPfX/AZvTzPQbj0JlAAAAAElFTkSuQmCC
" />
</div>
</div>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>This does a good job illustrating my earlier point, at small difficulty levels, the variance issue is not very clearly seen, but as you go to higher difficulty levels, one can easily see that calcualting an "average" number of hashes per difficulty level is not a salient idea. This concludes the mining portion of this explanation. Next part is going to focus on the transaction layer, digital signatures, RSA, and ECDSA.</p>
</div>
</div>
</div>

<script type="text/javascript">if (!document.getElementById('mathjaxscript_pelican_#%@#$@#')) {
    var mathjaxscript = document.createElement('script');
    mathjaxscript.id = 'mathjaxscript_pelican_#%@#$@#';
    mathjaxscript.type = 'text/javascript';
    mathjaxscript.src = '//cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML';
    mathjaxscript[(window.opera ? "innerHTML" : "text")] =
        "MathJax.Hub.Config({" +
        "    config: ['MMLorHTML.js']," +
        "    TeX: { extensions: ['AMSmath.js','AMSsymbols.js','noErrors.js','noUndefined.js'], equationNumbers: { autoNumber: 'AMS' } }," +
        "    jax: ['input/TeX','input/MathML','output/HTML-CSS']," +
        "    extensions: ['tex2jax.js','mml2jax.js','MathMenu.js','MathZoom.js']," +
        "    displayAlign: 'center'," +
        "    displayIndent: '0em'," +
        "    showMathMenu: true," +
        "    tex2jax: { " +
        "        inlineMath: [ ['$','$'] ], " +
        "        displayMath: [ ['$$','$$'] ]," +
        "        processEscapes: true," +
        "        preview: 'TeX'," +
        "    }, " +
        "    'HTML-CSS': { " +
        " linebreaks: { automatic: true, width: '95% container' }, " +
        "        styles: { '.MathJax_Display, .MathJax .mo, .MathJax .mi, .MathJax .mn': {color: 'black ! important'} }" +
        "    } " +
        "}); ";
    (document.body || document.getElementsByTagName('head')[0]).appendChild(mathjaxscript);
}
</script>

  </div>
  <div class="tag-cloud">
    <p>
      <a href="/tag/cryptography.html">cryptography</a>
      <a href="/tag/cryptocurrencies.html">cryptocurrencies</a>
      <a href="/tag/python.html">python</a>
    </p>
  </div>




</article>

    <footer>
<p>&copy; Nikhil Prasad </p>
<p>    Powered by <a href="http://getpelican.com" target="_blank">Pelican</a> - <a href="https://github.com/alexandrevicenzi/flex" target="_blank">Flex</a> theme by <a href="http://alexandrevicenzi.com" target="_blank">Alexandre Vicenzi</a>
</p>    </footer>
  </main>





<script type="application/ld+json">
{
  "@context" : "http://schema.org",
  "@type" : "Blog",
  "name": " Nikhil Prasad ",
  "url" : "",
  "image": "",
  "description": ""
}
</script>
</body>
</html>